# Claude Code統合

## TDD: PTYプロセス管理テスト
- [ ] `pty_test.go` の作成
  - [ ] 擬似端末作成のテスト
  - [ ] プロセス起動のテスト
  - [ ] シグナルハンドリングのテスト
  - [ ] リサイズ処理のテスト
  - [ ] モックプロセスでのテスト

## PTYプロセス管理
- [ ] PTY マネージャーの実装 (`internal/claude/pty.go`)
  - [ ] 擬似端末の作成
  - [ ] プロセスの起動
  - [ ] シグナルハンドリング
  - [ ] リサイズ処理

## TDD: プロセス管理テスト
- [ ] `process_test.go` の作成
  - [ ] プロセス起動のテスト
  - [ ] ライフサイクル管理のテスト
  - [ ] 再起動機能のテスト
  - [ ] シャットダウンのテスト
  - [ ] エラー処理のテスト

## Claude Codeプロセス管理
- [ ] プロセスマネージャーの実装 (`internal/claude/process.go`)
  - [ ] Claude Code CLIの起動
  - [ ] プロセスライフサイクル管理
  - [ ] プロセス再起動機能
  - [ ] グレースフルシャットダウン

## TDD: 入出力ストリーミングテスト
- [ ] 入出力ハンドリングのテスト
  - [ ] 入力バッファリングのテスト
  - [ ] 出力ストリーミングのテスト
  - [ ] エラー出力のテスト
  - [ ] タイムアウト処理のテスト

## 入出力ストリーミング
- [ ] 入力ハンドリング
  - [ ] ユーザー入力の受付
  - [ ] コマンドのバッファリング
  - [ ] 入力の送信
- [ ] 出力ハンドリング
  - [ ] 標準出力の読み取り
  - [ ] 標準エラー出力の読み取り
  - [ ] 出力のバッファリング
  - [ ] UIへの出力転送

## コマンド処理
- [ ] コマンドパーサー
  - [ ] `/` コマンドの識別
  - [ ] `Ctrl+Shift` コマンドの識別
  - [ ] カスタムコマンドの処理
- [ ] コマンドパススルー
  - [ ] Claude Codeへのコマンド転送
  - [ ] レスポンスの処理

## セッション管理
- [ ] セッション状態の管理
  - [ ] アクティブ/非アクティブ状態
  - [ ] セッションコンテキスト
  - [ ] セッション履歴